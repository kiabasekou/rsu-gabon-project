# apps/identity_app/migrations/0008_add_vulnerability_fields.py
"""
Migration pour ajouter les champs de vulnérabilité à PersonIdentity
"""
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('identity_app', '0007_add_nationality_field'),  # Remplace par ton dernier numéro de migration
    ]

    operations = [
        migrations.AddField(
            model_name='personidentity',
            name='vulnerability_score',
            field=models.DecimalField(
                blank=True,
                null=True,
                decimal_places=2,
                max_digits=5,
                verbose_name="Score de vulnérabilité (0-100)",
                help_text="Calculé par le service de vulnérabilité"
            ),
        ),
        migrations.AddField(
            model_name='personidentity',
            name='vulnerability_level',
            field=models.CharField(
                blank=True,
                null=True,
                max_length=20,
                choices=[
                    ('CRITICAL', 'Critique'),
                    ('HIGH', 'Élevée'),
                    ('MODERATE', 'Modérée'),
                    ('LOW', 'Faible'),
                ],
                verbose_name="Niveau de vulnérabilité"
            ),
        ),
        migrations.AddField(
            model_name='personidentity',
            name='last_vulnerability_assessment',
            field=models.DateTimeField(
                blank=True,
                null=True,
                verbose_name="Dernière évaluation vulnérabilité"
            ),
        ),
    ]